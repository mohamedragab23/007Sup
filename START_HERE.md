# ๐ ุงุจุฏุฃ ูู ููุง - ุงููุธุงู ุงูุฌุฏูุฏ Write-First

## โ ุชู ุฅุนุงุฏุฉ ุจูุงุก ุงููุธุงู ุจุงููุงูู!

### ๐ฏ ุงูุชุญูู ุงูุฌุฐุฑู:

**ูุจู:** Google Sheets โ System โ Display โ  
**ุงูุขู:** Excel โ System Database โ Google Sheets (Sync) โ

---

## ๐๏ธ ุงูุจููุฉ ุงูุฌุฏูุฏุฉ

### 1. ูุงุนุฏุฉ ุงูุจูุงูุงุช ุงููุญููุฉ (IndexedDB)
- โ ุชุฎุฒูู ูุญูู ุณุฑูุน
- โ ูุง ุงูุชุธุงุฑ API
- โ ูุนูู offline
- โ ุฃุฏุงุก ููุชุงุฒ

### 2. Write-First Architecture
- โ Excel โ System Database ุฃููุงู
- โ Google Sheets ูุฒุงููุฉ ูู ุงูุฎูููุฉ
- โ ูุง ุงุนุชูุงุฏ ุนูู Google Sheets ูููุฑุงุกุฉ

### 3. ูุญุฑู ุญุณุงุจ ุงูุฑุงุชุจ
- โ ุฑุงุชุจ ุซุงุจุช
- โ ุนูููุฉ ูุน ูุนุงููุงุช ุงูุณุงุนุงุช
- โ ุชูุงุตูู ููููุฉ

---

## ๐ ุฎุทูุงุช ุงูุชุดุบูู

### 1. ุชุซุจูุช ุงูููุชุจุงุช

```bash
npm install
```

### 2. ุฅุนุฏุงุฏ ูุชุบูุฑุงุช ุงูุจูุฆุฉ

ุฃูุดุฆ `.env.local`:

```env
GOOGLE_SHEETS_SPREADSHEET_ID=your-spreadsheet-id
GOOGLE_SERVICE_ACCOUNT_EMAIL=your-email@project.iam.gserviceaccount.com
GOOGLE_PRIVATE_KEY="-----BEGIN PRIVATE KEY-----\n...\n-----END PRIVATE KEY-----\n"
JWT_SECRET=your-secret-key
```

### 3. ุชุดุบูู ุงููุธุงู

```bash
npm run dev
```

### 4. ูุชุญ ุงููุชุตูุญ

**http://localhost:3000**

---

## ๐งช ุงุฎุชุจุงุฑ ุงููุธุงู

### ุงุฎุชุจุงุฑ 1: ุฑูุน Excel ููููุงุฏูุจ

1. ุณุฌูู ุฏุฎูู ูู Admin
2. ุงูุชูู ุฅูู `/admin/riders`
3. ุงุฑูุน ููู Excel:
   ```
   RiderID | RiderName | Zone | SupervisorID
   3846890 | Abdelrahman Walid | Assiut | ASY-001
   ```
4. โ ูุฌุจ ุฃู ูุธูุฑ: "ุชู ุชุนููู ุงูููุงุฏูุจ ุจูุฌุงุญ"
5. โ ุงูุจูุงูุงุช ูุญููุธุฉ ูู IndexedDB
6. โ ุงููุฒุงููุฉ ูุน Google Sheets ูู ุงูุฎูููุฉ

### ุงุฎุชุจุงุฑ 2: ุฑูุน ุจูุงูุงุช ุงูุฃุฏุงุก

1. ุงูุชูู ุฅูู `/admin/performance`
2. ุงุฑูุน ููู Excel:
   ```
   ุงูุชุงุฑูุฎ | RiderID | ุณุงุนุงุช ุงูุนูู | ุงูุจุฑูู | ุงูุชุฃุฎูุฑ | ุงูุบูุงุจ | ุงูุทูุจุงุช | ูุนุฏู ุงููุจูู | ุงููุญูุธุฉ
   2024-01-15 | 3846890 | 8.5 | 2 | 15 | ูุง | 25 | 95% | 1200
   ```
3. โ ูุฌุจ ุฃู ูุธูุฑ: "ุชู ุฑูุน ุจูุงูุงุช ุงูุฃุฏุงุก ุจูุฌุงุญ"
4. โ ุงูุจูุงูุงุช ูุญููุธุฉ ูู IndexedDB

### ุงุฎุชุจุงุฑ 3: ุชูููู ุงูุฑุงุชุจ

1. ุงูุชูู ุฅูู `/admin/salary-config`
2. ุงุฎุชุฑ ูุดุฑู
3. ุงุฎุชุฑ ููุน ุงูุฑุงุชุจ (ุซุงุจุช/ุนูููุฉ)
4. ุฅุฐุง ุนูููุฉ:
   - ุฃุฏุฎู ูุนุฏู ุงูุนูููุฉ (ูุซูุงู: 0.5)
   - ุงุถุจุท ูุนุงููุงุช ุงูุณุงุนุงุช
5. ุงุถุบุท "ุญูุธ ุงูุฅุนุฏุงุฏุงุช"
6. โ ูุฌุจ ุฃู ูุธูุฑ: "ุชู ุญูุธ ุงูุฅุนุฏุงุฏุงุช ุจูุฌุงุญ"

### ุงุฎุชุจุงุฑ 4: ุญุณุงุจ ุงูุฑุงุชุจ (Supervisor)

1. ุณุฌูู ุฏุฎูู ููุดุฑู
2. ุงูุชูู ุฅูู `/salary`
3. ุงุฎุชุฑ ูุชุฑุฉ ุฒูููุฉ
4. โ ูุฌุจ ุฃู ูุธูุฑ:
   - ุงูุฑุงุชุจ ุงูุฃุณุงุณู/ุงูุนูููุฉ
   - ุงูุฎุตููุงุช
   - ุงูุฑุงุชุจ ุงูุตุงูู
   - ุชูุงุตูู ุงูุนูููุฉ ุงูููููุฉ (ุฅุฐุง ูุงู ุนูููุฉ)

### ุงุฎุชุจุงุฑ 5: ุงููุฒุงููุฉ

1. ุณุฌูู ุฏุฎูู ูู Admin
2. ุงูุชูู ุฅูู `/admin/sync`
3. ุงุฎุชุฑ ููุน ุงููุฒุงููุฉ
4. ุงุถุบุท "ุจุฏุก ุงููุฒุงููุฉ"
5. โ ูุฌุจ ุฃู ูุธูุฑ: "ุชูุช ุงููุฒุงููุฉ ุจูุฌุงุญ"

---

## ๐ ุงูุตูุญุงุช ุงูุฌุฏูุฏุฉ

### Admin:
- `/admin/salary-config` - ุฅุนุฏุงุฏุงุช ุงูุฑูุงุชุจ
- `/admin/sync` - ุงููุฒุงููุฉ

### Supervisor:
- `/salary` - ุญุณุงุจ ุงูุฑุงุชุจ (ูุญุฏุซ)

---

## โก ุงูุฃุฏุงุก ุงููุชููุน

### ูุจู:
- โ 10+ ุซูุงูู ููุชุญููู
- โ ุจุทูุก ุนูู Mobile

### ุจุนุฏ:
- โ <2 ุซุงููุฉ ููุชุญููู
- โ ุณุฑูุน ุนูู Mobile
- โ ูุนูู offline

---

## ๐ ุงูุชุญูู ูู ุงููุธุงู

### 1. ูุชุญ Developer Tools

1. ุงุถุบุท F12
2. ุงูุชูู ุฅูู Application โ IndexedDB
3. ูุฌุจ ุฃู ุชุฑู: `007SupDB`
4. ูุฌุจ ุฃู ุชุฑู: `riders`, `performance`, `supervisorConfig`, `debts`

### 2. ุงูุชุญูู ูู ุงูุจูุงูุงุช

1. ุงูุชุญ `riders` store
2. ูุฌุจ ุฃู ุชุฑู ุงูููุงุฏูุจ ุงููุฑููุนูู
3. ุงูุชุญ `performance` store
4. ูุฌุจ ุฃู ุชุฑู ุจูุงูุงุช ุงูุฃุฏุงุก

### 3. ุงูุชุญูู ูู Google Sheets

1. ุงูุชุญ Google Sheets
2. ูุฌุจ ุฃู ุชุฑู ุงูุจูุงูุงุช ุงููุฒุงููุฉ
3. ูุฌุจ ุฃู ุชุจูู ุงูุตูุบ ููุฌูุฏุฉ

---

## ๐ฏ ุงููููุงุช ุงููููุฉ

### Core:
- `lib/database.ts` - ูุงุนุฏุฉ ุงูุจูุงูุงุช ุงููุญููุฉ
- `lib/excelProcessorWriteFirst.ts` - ูุนุงูุฌ Excel
- `lib/syncEngine.ts` - ูุญุฑู ุงููุฒุงููุฉ
- `lib/salaryCalculator.ts` - ุญุณุงุจ ุงูุฑุงุชุจ

### APIs:
- `app/api/admin/upload/route.ts` - ุฑูุน Excel (Write-First)
- `app/api/admin/salary/config/route.ts` - ุฅุนุฏุงุฏุงุช ุงูุฑุงุชุจ
- `app/api/salary/calculate/route.ts` - ุญุณุงุจ ุงูุฑุงุชุจ
- `app/api/sync/route.ts` - ุงููุฒุงููุฉ

### UI:
- `app/admin/salary-config/page.tsx` - ุฅุนุฏุงุฏุงุช ุงูุฑูุงุชุจ
- `app/admin/sync/page.tsx` - ุงููุฒุงููุฉ
- `app/salary/page.tsx` - ุญุณุงุจ ุงูุฑุงุชุจ (ูุญุฏุซ)

---

## โ ุงููุธุงู ุฌุงูุฒ!

**ุงูุชุญ:** `http://localhost:3000`

**ุงุจุฏุฃ ุงูุงุฎุชุจุงุฑ! ๐**
